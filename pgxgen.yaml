version: "1"
sqlc:
  - # directory with migrations. required
    schema_dir: sql/migrations
    models:
      replace_sqlc_nullable_types: true
      move: # required
        output_dir: internal/server/pgxstore/models
        # default: models.go
        output_file_name: models_gen.go
        # new package name. by default based on `output_dir`
        package_name: pgxstore
        # required. full path to new models directory
        package_path: github.com/Kopleman/metcol/internal/server/pgxstore/models
    crud:
      auto_remove_generated_files: true
      exclude_table_name_from_methods: false
      tables:
        metrics:
          primary_column: id
          methods:
            create:
              skip_columns:
                - id
                - updated_at
                - deleted_at
              column_values:
                created_at: now()
              returning: "id, name, type, value, delta, created_at, updated_at, deleted_at"
            exists:
              where:
                name:
                  operator: "="
                type:
                  operator: "="
